# Онлайн магазин
## Общее описание
Данный проект представляет собой реализацию онлайн магазина. Проект полностью функционирует, однако имеется допущение связанное с оплатой заказов. Подразумевается, что оплата заказа происходит в пункте выдачи при получении заказа.
## База данных
Достаточно создать пустую базу данных и указать необходимые параметры в application.yaml. При первом запуске проекта в application.yaml необходимо указать:
  jpa:
    hibernate:
      ddl-auto: create
Таким образом база данных будет создана автоматически. Далее в application.yaml можно указать:
  jpa:
    hibernate:
      ddl-auto: update
Таким образом база данных будет сохраняться и обновляться автоматически.
Схема базы данных:
![Схема БД (финал)](https://github.com/user-attachments/assets/5f51d92b-8d8d-45c8-8c6f-fac525db232c)
## Роли пользователей
Иеется 4 роли пользователей - администратор, продавец, работник и пользователь. В зависимости от роли присутствует различный функционал. Зарегистрироваться как продавец или пользователь может кто угодно. Зарегистрировать работника или администратора может только администратор. Можно выделить также отдельную роль - гость. Данная роль присваивается всем, кто заходит на сайт магазина без регистрации, пользователи с такой ролью не хранятся в базе данных.
### Гость
Гость может просматривать товары в магазине, заходить на страницу товара, проводить поиск товара, а также зарегистрироваться как пользователь или продавец и войти в аккаунт.
#### Главная страница:
![image](https://github.com/user-attachments/assets/66eedcdb-26f7-43d0-b181-f23d97970a5d)
![image](https://github.com/user-attachments/assets/a50b738d-95e5-4ed8-bb5e-235b35b52b8d)
#### Поиск товара:
![image](https://github.com/user-attachments/assets/1ef82a2a-bb33-44ea-9448-17adbad68fcb)
#### Страница товара:
![image](https://github.com/user-attachments/assets/69b7b042-e0a1-4930-9ec6-6d3bc08492df)
#### Страница регистрации для продавца:
![image](https://github.com/user-attachments/assets/aa6ef1b1-4b3b-47e5-83e4-1649373a2573)
#### Страница регистрации для пользователя:
![image](https://github.com/user-attachments/assets/7910e1f3-d8c8-455d-8a2c-ce7bfecf6db0)
### Администратор
По умолчанию в базе данных присутствует 1 исходный администратор (логин - admin, пароль - admin). Администратор может просматривать товары в магазине, заходить на страницу товара, проводить поиск товара, зарегистрировать нового администратора или работника, редактировать/удалять/просматривать/создавать адреса пунктов выдачи. Также может просматривать список зарегистрированных пользвателей и удалять их. Может просматривать список категорий товаров, а также редактировать/создавать/удалять их (при удалении категории удалятся и товары для которых данная категория единственная). Еще администратор может просматривать заказы пользователей и менять их статус. Также администратор может просматривать и редактировать собственный профиль.
#### Главная страница:
![image](https://github.com/user-attachments/assets/3f868617-0aa6-4c0b-9350-e138e216082d)
#### Страница профиля администратора:
![image](https://github.com/user-attachments/assets/3c882dd1-4040-4447-84d1-3c37719e0f41)
#### Страница редактирования профиля администратора:
![image](https://github.com/user-attachments/assets/e881fd13-9068-4e7d-9d26-48eccc0bc060)
#### Страница регистрации нового администратора:
![image](https://github.com/user-attachments/assets/12c31e3e-5443-4cf6-888c-e1f26995836a)
#### Страница регистрации нового работника:
![image](https://github.com/user-attachments/assets/1d82156d-af0a-4147-9494-5c78e90b01a8)
#### Страница пунктов выдачи:
![image](https://github.com/user-attachments/assets/724990d3-9231-4e7d-a88d-0374cecb181f)
![image](https://github.com/user-attachments/assets/8a428d94-05fd-4502-8c73-3678a6de8cff)
#### Поиск пунктов выдачи по городу:
![image](https://github.com/user-attachments/assets/cdb4a87d-216b-4cca-b0e8-21cca1127e67)
#### Страница пользователей:
![image](https://github.com/user-attachments/assets/09cb8424-ec5a-4dca-882e-755b40b5b4bf)
#### Страница категорий товаров:
![image](https://github.com/user-attachments/assets/9d7f729f-fc2c-49da-8742-cb23deb719ee)
![image](https://github.com/user-attachments/assets/352dd467-957e-49b2-8c89-d5042868ac0c)
#### Поиск категории по названию:
![image](https://github.com/user-attachments/assets/65212c8d-c593-43bb-b7e2-df0ea5a522bb)
#### Просмотр списка заказов пользователей:
![image](https://github.com/user-attachments/assets/5670800f-5ec6-4f78-9e7d-9efc9c7bc29d)
#### Поиск заказа по ID:
![image](https://github.com/user-attachments/assets/978dc3a8-b58a-4149-8ac6-b1dc8eff15e5)
### Работник
Подразумевается, что работник работает в пункте выдачи, спрашивает ID заказа у покупателя, проверяет есть ли такой заказ и меняет статус (ожидает, доставляется, возвращен, получен), а также принимает оплату от покупателя. Интерфейс выглядит как у администратора, однако доступны функции только для работы с заказом и собственным профилем.
#### Просмотр заказов:
![image](https://github.com/user-attachments/assets/dec6a019-f92b-4e64-905e-c507aebdbe9a)
### Продавец
Продавец может просматривать и редактировать собственный профиль, просматривать все товары. Также продавец может просматривать только свои товары, создавать новые и удалять их. При удалении продавца удалятся и все его товары.
#### Главная страница:
![image](https://github.com/user-attachments/assets/bb982ad6-1f38-4018-aafe-647572bf633c)
#### Просмотр профиля:
![image](https://github.com/user-attachments/assets/7183740e-ead5-4002-9059-c8d9c5eed483)
#### Редактирование профиля:
![image](https://github.com/user-attachments/assets/9c5ae589-f6ed-4d00-9017-9161998c2aa8)
#### Просмотр товаров:
![image](https://github.com/user-attachments/assets/f54dedcf-7de6-4b9b-ac21-cc5136af4136)
#### Создание нового товара:
![image](https://github.com/user-attachments/assets/e686203e-536a-46b4-80bd-4d9f8d4e08db)
### Пользователь
Пользователь может просматривать и редактировать собственный профиль. Также пользователь может просматривать товары, которые доступны к покупке и добавлять их в корзину. Можно также удалять товары из корзины. При желании можно оформить заказ (необходимо будет выбрать пункт выдачи, куда будет доставлен заказ). Еще пользователь может посмотреть список своих заказов.
#### Главная страница:
![image](https://github.com/user-attachments/assets/4311eacb-b515-4cb9-8f54-85ac44893ea9)
#### Профиль пользователя:
![image](https://github.com/user-attachments/assets/ca110c90-1ab8-41c6-a278-6054096f89fe)
#### Редактирование профиля пользователя:
![image](https://github.com/user-attachments/assets/ca27bd47-dfe2-4596-9f54-08eb8760ebac)
#### Корзина пользователя:
![image](https://github.com/user-attachments/assets/04c26da5-d5db-4930-8ca2-aaa99e4e9cfb)
![image](https://github.com/user-attachments/assets/8d3e0b94-bf27-4754-ba05-ee516bbfbcc8)
#### Заказы пользователя:
![image](https://github.com/user-attachments/assets/4fe907ae-99ee-4b34-b792-a5de22a83f3c)
![image](https://github.com/user-attachments/assets/9220962a-303d-4fd1-be82-d86d35576b8b)
## Проверка вводимых данных на валидность
При регистрации/редактировании аккаунта имеются некоторые ограничения на вводимые данные
#### Пример невалидной регистрации:
![image](https://github.com/user-attachments/assets/e877b7b3-fe39-46c4-bceb-95371c2f6d33)
#### Пример невалидного редактирования профиля:
![image](https://github.com/user-attachments/assets/5d0e90a1-c831-49ee-a225-b53e927efa1f)
#### Пример попытки создания товара без категории:
![image](https://github.com/user-attachments/assets/e677e327-de96-4b17-ac3b-beac9b8fb175)
#### Пример невалидного создания товара:
![image](https://github.com/user-attachments/assets/419bee08-a83f-450c-9289-d19c35072433)
#### Пример невалидного создания адреса:
![image](https://github.com/user-attachments/assets/dde55296-b70d-4291-a4c6-2de91d800ba8)
